- name: "anyenv - Clone & Fetch repo"
  git:
    repo: "https://github.com/anyenv/anyenv"
    dest: "{{ ansible_home }}/.anyenv"

- name: "anyenv - Create symlinks"
  become: yes
  file:
    src: "{{ ansible_home }}/.anyenv/bin/{{ item }}"
    dest: "/usr/local/bin/{{ item }}"
    state: link
  with_items:
    - anyenv

- name: "anyenv - init"
  shell: yes | anyenv install --init
  changed_when: false

- name: "anyenv - install goenv"
  shell: anyenv install goenv
  changed_when: false
  when: args.goenv == "true"

- name: "anyenv - install nodeenv"
  shell: anyenv install nodeenv
  changed_when: false
  when: args.nodeenv == "true"

- name: "anyenv - install pyenv"
  shell: anyenv install pyenv
  changed_when: false
  when: args.pyenv == "true"
